import i18n from "i18next";
import { initReactI18next } from "react-i18next";

const resources = {
  ko: {
    translation: {
      language: {
        label: "언어",
        korean: "한국어",
        english: "English",
      },
      theme: {
        toggle: "테마 전환",
        light: "라이트",
        dark: "다크",
      },
      nav: {
        signIn: "무료로 시작",
        signOut: "로그아웃",
        goToLogin: "지금 시작하기",
        backToHome: "홈으로 돌아가기",
      },
      home: {
        tagline: "데이터가 말해주는 오늘의 승률",
        dateBadge: "오늘",
        mysteryStock: "비공개 종목",
        stepLabel: "단계 {{step}}",
        heroPrefix: "{{name}}",
        heroRise: "의 오늘 상승 점수",
        heroScore: "{{score}}",
        heroSuffix: "점",
        heroSubtitle: "과거 패턴 기준",
        viewDashboard: "내 대시보드 열기",
        startSignals: "오늘의 3대 시그널 받기",
        seeHowItWorks: "작동 원리 보기",
        topPicks: "다음 주 유력 3종목",
        howItWorks: "작동 방식",
        step1Title: "날짜별 시즌성 스캔",
        step1Body: "10년 이상 데이터를 기준으로 오늘 날짜의 승률을 계산합니다.",
        step2Title: "기술적 지표 합성 점수",
        step2Body: "RSI, MACD 등 지표를 합쳐 확률의 질을 끌어올립니다.",
        step3Title: "상위 3개 시그널 공개",
        step3Body: "매일 아침 가장 유리한 3개 셋업만 선별해 제공합니다.",
        getFullAccess: "전체 종목 공개",
        signInToUnlock: "로그인하고 오늘의 시그널을 확인하세요",
        googleOnly: "Google 로그인만 지원합니다. 신규 계정은 자동 생성됩니다.",
        basedOnHistory: "과거 패턴 기반 정보이며, 투자 판단의 책임은 사용자에게 있습니다.",
      },
      search: {
        placeholder: "티커 입력 (예: AAPL)",
        go: "즉시 조회",
        searching: "조회 중...",
        errorNoData: "데이터가 없습니다.",
        errorFailed: "조회에 실패했습니다. 다시 시도해주세요.",
        latestRank: "최신 순위",
        winRate: "승률",
        aiScore: "합성 점수",
        signInReveal: "로그인하면 종목명과 상세 히스토리를 확인할 수 있습니다.",
        revealStock: "종목 공개",
        footer: "오늘의 시즌성 패턴을 확인하세요.",
      },
      stockCard: {
        rankTop: "Top",
        rankRunnerUp: "2위",
        rankThird: "3위",
        winRate: "승률",
        avgReturn: "평균 수익률",
        lockedTopTitle: "종목 비공개",
        lockedTopBody: "로그인 후 상위 종목을 확인하세요.",
        lockedSecondTitle: "미리보기 잠김",
        lockedSecondBody: "로그인하여 시그널을 확인하세요.",
        lockedThirdTitle: "멤버 전용",
        lockedThirdBody: "로그인 후 3위 시그널을 확인하세요.",
        lockedHint: "로그인 후 전체 정보가 표시됩니다.",
        hot: "HOT",
      },
      login: {
        title: "오늘의 시그널을 열어보세요",
        subtitle: "Google 로그인만 지원합니다. 신규 사용자는 자동으로 생성됩니다.",
        oauthLabel: "Google OAuth",
        redirectNote: "로그인 성공 시 {{target}}로 이동합니다.",
        errorMissingCode: "로그인 코드가 누락되었습니다. 다시 시도해주세요.",
        errorExchangeFailed: "토큰 교환에 실패했습니다. 다시 시도해주세요.",
        errorNoUser: "사용자 정보를 확인할 수 없습니다. 다시 시도해주세요.",
        errorProfileUpsertFailed: "프로필 저장에 실패했습니다. 다시 시도해주세요.",
        errorGoogleSignInFailed: "Google 로그인에 실패했습니다. 다시 시도해주세요.",
        errorDefault: "로그인 중 오류가 발생했습니다. 다시 시도해주세요.",
      },
      dashboard: {
        title: "대시보드",
        welcome: "{{name}}님, 오늘의 시장을 확인하세요.",
        subtitle: "시즌성 시그널과 핵심 지표를 한 화면에서 확인합니다.",
        marketTitle: "시장 실시간 스냅샷",
        marketSubtitle: "KST 기준 자동 전환, 필요 시 깃발로 수동 고정.",
        marketAuto: "자동",
        marketNow: "현재 KST {{time}}",
        marketKorean: "한국 시장",
        marketUS: "미국 시장",
        marketKoreanDetail: "KOSPI · KOSDAQ",
        marketUSDetail: "NASDAQ · S&P 500",
        overview: "핵심 지수",
        movers: "거래량 상위",
        loading: "데이터 불러오는 중...",
        noData: "시장 데이터가 없습니다.",
        lastUpdate: "업데이트 {{date}}",
      },
      pricing: {
        kicker: "가격/플랜",
        title: "필요한 만큼만, 지금 바로 시작",
        subtitle: "무료로 맛본 뒤, 확신이 들 때 업그레이드하세요.",
        primaryCta: "무료로 시작",
        secondaryCta: "프로로 업그레이드",
        planFree: {
          label: "무료",
          price: "0원",
          desc: "오늘의 핵심 시그널을 가볍게 체험",
          b1: "Top 1 시그널 공개",
          b2: "시장 스냅샷 요약",
          b3: "기본 검색 기능",
        },
        planPro: {
          label: "프로",
          price: "월 19,000원",
          desc: "매일 3개 시그널과 전체 히스토리",
          b1: "Top 3 시그널 전체 공개",
          b2: "종목별 시즌성 히스토리",
          b3: "지표 합성 점수 상세",
        },
        planTeam: {
          label: "팀",
          price: "맞춤 견적",
          desc: "리서치/운용팀을 위한 커스터마이즈",
          b1: "다중 계정 관리",
          b2: "데이터 파이프라인 연동",
          b3: "우선 지원 및 리포트",
        },
      },
      auth: {
        signInPanel: "로그인",
        signInWithGoogle: "Google로 로그인",
      },
      user: {
        fallback: "사용자",
      },
    },
  },
  en: {
    translation: {
      language: {
        label: "Language",
        korean: "한국어",
        english: "English",
      },
      theme: {
        toggle: "Toggle theme",
        light: "Light",
        dark: "Dark",
      },
      nav: {
        signIn: "Start Free",
        signOut: "Sign out",
        goToLogin: "Get Instant Access",
        backToHome: "Back to home",
      },
      home: {
        tagline: "Turn historical edges into today's signals",
        dateBadge: "Today",
        mysteryStock: "Hidden Ticker",
        stepLabel: "Step {{step}}",
        heroPrefix: "{{name}}",
        heroRise: "today's upside score",
        heroScore: "{{score}}",
        heroSuffix: "pts",
        heroSubtitle: "based on historical patterns",
        viewDashboard: "Open My Dashboard",
        startSignals: "Get Today’s Top 3 Signals",
        seeHowItWorks: "See the Method",
        topPicks: "Next Week’s Top 3 Setups",
        howItWorks: "How It Works",
        step1Title: "Seasonality Scan by Date",
        step1Body: "We compute win rates from 10+ years of data for today’s date.",
        step2Title: "Technical Confluence Score",
        step2Body: "RSI and MACD are combined to raise the quality of the edge.",
        step3Title: "Top 3 Signals Only",
        step3Body: "Every morning, we publish only the three strongest setups.",
        getFullAccess: "Unlock All Tickers",
        signInToUnlock: "Sign in to see today’s signals",
        googleOnly: "Google login only. New users are created automatically.",
        basedOnHistory: "Based on historical patterns. You are responsible for your investment decisions.",
      },
      search: {
        placeholder: "Enter ticker (e.g., AAPL)",
        go: "Check Now",
        searching: "Checking...",
        errorNoData: "No data found.",
        errorFailed: "Lookup failed. Please try again.",
        latestRank: "Latest Rank",
        winRate: "Win Rate",
        aiScore: "Composite Score",
        signInReveal: "Sign in to reveal the ticker and full history.",
        revealStock: "Reveal Ticker",
        footer: "Check today’s seasonal edge in seconds.",
      },
      stockCard: {
        rankTop: "Top",
        rankRunnerUp: "Runner-up",
        rankThird: "Third",
        winRate: "Win Rate",
        avgReturn: "Avg Return",
        lockedTopTitle: "Ticker Hidden",
        lockedTopBody: "Sign in to reveal the top picks.",
        lockedSecondTitle: "Preview Locked",
        lockedSecondBody: "Sign in to reveal the signals.",
        lockedThirdTitle: "Members Only",
        lockedThirdBody: "Sign in to reveal the third signal.",
        lockedHint: "Sign in to reveal the full details.",
        hot: "HOT",
      },
      login: {
        title: "Unlock today’s signals",
        subtitle: "Google login only. New users are created automatically.",
        oauthLabel: "Google OAuth",
        redirectNote: "You’ll be redirected to {{target}} after sign-in.",
        errorMissingCode: "Sign-in code missing. Please try again.",
        errorExchangeFailed: "Token exchange failed. Please try again.",
        errorNoUser: "Unable to verify the user. Please try again.",
        errorProfileUpsertFailed: "Failed to update profile. Please try again.",
        errorGoogleSignInFailed: "Google sign-in failed. Please try again.",
        errorDefault: "An error occurred during sign-in. Please try again.",
      },
      dashboard: {
        title: "Dashboard",
        welcome: "{{name}}, here’s today’s market.",
        subtitle: "Track seasonality signals and key metrics in one view.",
        marketTitle: "Live Market Snapshot",
        marketSubtitle: "Auto-switches by KST or lock a market with the flags.",
        marketAuto: "Auto",
        marketNow: "KST {{time}}",
        marketKorean: "Korean Market",
        marketUS: "US Market",
        marketKoreanDetail: "KOSPI · KOSDAQ",
        marketUSDetail: "NASDAQ · S&P 500",
        overview: "Key Indexes",
        movers: "Top by Volume",
        loading: "Loading data...",
        noData: "No market data available.",
        lastUpdate: "Updated {{date}}",
      },
      pricing: {
        kicker: "Pricing",
        title: "Start free, upgrade when it proves itself",
        subtitle: "Try today’s signals first. Go pro when you want the full edge.",
        primaryCta: "Start Free",
        secondaryCta: "Upgrade to Pro",
        planFree: {
          label: "Free",
          price: "$0",
          desc: "A quick taste of today’s edge",
          b1: "Top 1 signal",
          b2: "Market snapshot",
          b3: "Basic ticker lookup",
        },
        planPro: {
          label: "Pro",
          price: "$19/mo",
          desc: "All three signals and full history",
          b1: "Top 3 signals",
          b2: "Seasonality history",
          b3: "Composite score details",
        },
        planTeam: {
          label: "Team",
          price: "Custom",
          desc: "For research and trading teams",
          b1: "Multi-seat access",
          b2: "Data pipeline integration",
          b3: "Priority support",
        },
      },
      auth: {
        signInPanel: "Sign In",
        signInWithGoogle: "Sign in with Google",
      },
      user: {
        fallback: "User",
      },
    },
  },
};

const savedLanguage = typeof window !== "undefined" ? localStorage.getItem("lang") : null;

if (!i18n.isInitialized) {
  i18n.use(initReactI18next).init({
    resources,
    lng: savedLanguage ?? "ko",
    fallbackLng: "ko",
    interpolation: {
      escapeValue: false,
    },
  });
}

export default i18n;
